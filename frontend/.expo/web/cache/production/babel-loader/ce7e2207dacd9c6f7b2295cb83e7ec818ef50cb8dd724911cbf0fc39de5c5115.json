{"ast":null,"code":"\"use strict\";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||(\"get\"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k];}};}Object.defineProperty(o,k2,desc);}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,\"default\",{enumerable:true,value:v});}:function(o,v){o[\"default\"]=v;});var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(k!==\"default\"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);__setModuleDefault(result,mod);return result;};Object.defineProperty(exports,\"__esModule\",{value:true});const react_1=__importStar(require(\"react\"));const isDeepEqual=(a,b)=>{if(a===b){return true;}const bothAreObjects=a&&b&&typeof a==='object'&&typeof b==='object';return Boolean(bothAreObjects&&Object.keys(a).length===Object.keys(b).length&&Object.entries(a).every(([k,v])=>isDeepEqual(v,b[k])));};const Video=(0,react_1.forwardRef)(({source,paused,muted,volume,rate,repeat,controls,showNotificationControls=false,poster,fullscreen,fullscreenAutorotate,fullscreenOrientation,onBuffer,onLoad,onProgress,onPlaybackRateChange,onError,onReadyForDisplay,onSeek,onVolumeChange,onEnd,onPlaybackStateChanged,onPictureInPictureStatusChanged},ref)=>{const nativeRef=(0,react_1.useRef)(null);const isSeeking=(0,react_1.useRef)(false);const seek=(0,react_1.useCallback)(async(time,_tolerance)=>{if(isNaN(time)){throw new Error('Specified time is not a number');}if(!nativeRef.current){console.warn('Video Component is not mounted');return;}time=Math.max(0,Math.min(time,nativeRef.current.duration));nativeRef.current.currentTime=time;onSeek?.({seekTime:time,currentTime:nativeRef.current.currentTime});},[onSeek]);const[src,setSource]=(0,react_1.useState)(source);const currentSourceProp=(0,react_1.useRef)(source);(0,react_1.useEffect)(()=>{if(isDeepEqual(source,currentSourceProp.current)){return;}currentSourceProp.current=source;setSource(source);},[source]);const pause=(0,react_1.useCallback)(()=>{if(!nativeRef.current){return;}nativeRef.current.pause();},[]);const resume=(0,react_1.useCallback)(()=>{if(!nativeRef.current){return;}nativeRef.current.play();},[]);const setVolume=(0,react_1.useCallback)(vol=>{if(!nativeRef.current){return;}nativeRef.current.volume=Math.max(0,Math.min(vol,100))/100;},[]);const getCurrentPosition=(0,react_1.useCallback)(async()=>{if(!nativeRef.current){throw new Error('Video Component is not mounted');}return nativeRef.current.currentTime;},[]);const unsupported=(0,react_1.useCallback)(()=>{throw new Error('This is unsupported on the web');},[]);const fsPrefs=(0,react_1.useRef)({fullscreenAutorotate,fullscreenOrientation});fsPrefs.current={fullscreenOrientation,fullscreenAutorotate};const setFullScreen=(0,react_1.useCallback)(async(newVal,orientation,autorotate)=>{orientation??=fsPrefs.current.fullscreenOrientation;autorotate??=fsPrefs.current.fullscreenAutorotate;try{if(newVal){await nativeRef.current?.requestFullscreen({navigationUI:'hide'});if(orientation==='all'||!orientation||autorotate){screen.orientation.unlock();}else{await screen.orientation.lock(orientation);}}else{if(document.fullscreenElement){await document.exitFullscreen();}screen.orientation.unlock();}}catch(e){console.error('Could not toggle fullscreen/screen lock status',e);}},[]);(0,react_1.useEffect)(()=>{setFullScreen(fullscreen||false,fullscreenOrientation,fullscreenAutorotate);},[setFullScreen,fullscreen,fullscreenAutorotate,fullscreenOrientation]);const presentFullscreenPlayer=(0,react_1.useCallback)(()=>setFullScreen(true),[setFullScreen]);const dismissFullscreenPlayer=(0,react_1.useCallback)(()=>setFullScreen(false),[setFullScreen]);const enterPictureInPicture=(0,react_1.useCallback)(()=>{try{if(!nativeRef.current){console.error('Video Component is not mounted');}else{nativeRef.current.requestPictureInPicture();}}catch(e){console.error(e);}},[]);const exitPictureInPicture=(0,react_1.useCallback)(()=>{if(nativeRef.current&&nativeRef.current===document.pictureInPictureElement){try{document.exitPictureInPicture();}catch(e){console.error(e);}}},[]);(0,react_1.useImperativeHandle)(ref,()=>({seek,setSource,pause,resume,setVolume,getCurrentPosition,presentFullscreenPlayer,dismissFullscreenPlayer,setFullScreen,save:unsupported,enterPictureInPicture,exitPictureInPicture,restoreUserInterfaceForPictureInPictureStopCompleted:unsupported,nativeHtmlVideoRef:nativeRef}),[seek,setSource,pause,resume,unsupported,setVolume,getCurrentPosition,nativeRef,presentFullscreenPlayer,dismissFullscreenPlayer,setFullScreen,enterPictureInPicture,exitPictureInPicture]);(0,react_1.useEffect)(()=>{if(paused){pause();}else{resume();}},[paused,pause,resume]);(0,react_1.useEffect)(()=>{if(volume===undefined||isNaN(volume)){return;}setVolume(volume);},[volume,setVolume]);const playbackStateRef=(0,react_1.useRef)(onPlaybackStateChanged);playbackStateRef.current=onPlaybackStateChanged;(0,react_1.useEffect)(()=>{setTimeout(()=>{if(!nativeRef.current){return;}playbackStateRef.current?.({isPlaying:!nativeRef.current.paused,isSeeking:isSeeking.current});},500);},[]);(0,react_1.useEffect)(()=>{if(!nativeRef.current||rate===undefined){return;}nativeRef.current.playbackRate=rate;},[rate]);(0,react_1.useEffect)(()=>{if(typeof onPictureInPictureStatusChanged!=='function'||!nativeRef.current){return;}const onEnterPip=()=>onPictureInPictureStatusChanged({isActive:true});const onLeavePip=()=>onPictureInPictureStatusChanged({isActive:false});const video=nativeRef.current;video.addEventListener('enterpictureinpicture',onEnterPip);video.addEventListener('leavepictureinpicture',onLeavePip);return()=>{video.removeEventListener('enterpictureinpicture',onEnterPip);video.removeEventListener('leavepictureinpicture',onLeavePip);};},[onPictureInPictureStatusChanged]);useMediaSession(src?.metadata,nativeRef,showNotificationControls);return react_1.default.createElement(\"video\",{ref:nativeRef,src:src?.uri,muted:muted,autoPlay:!paused,controls:controls,loop:repeat,playsInline:true,poster:typeof poster==='object'?typeof poster.source==='object'?poster.source.uri:undefined:poster,onCanPlay:()=>onBuffer?.({isBuffering:false}),onWaiting:()=>onBuffer?.({isBuffering:true}),onRateChange:()=>{if(!nativeRef.current){return;}onPlaybackRateChange?.({playbackRate:nativeRef.current?.playbackRate});},onDurationChange:()=>{if(!nativeRef.current){return;}onLoad?.({currentTime:nativeRef.current.currentTime,duration:nativeRef.current.duration,videoTracks:[],textTracks:[],audioTracks:[],naturalSize:{width:nativeRef.current.videoWidth,height:nativeRef.current.videoHeight,orientation:'landscape'}});},onTimeUpdate:()=>{if(!nativeRef.current){return;}onProgress?.({currentTime:nativeRef.current.currentTime,playableDuration:nativeRef.current.buffered.length?nativeRef.current.buffered.end(nativeRef.current.buffered.length-1):0,seekableDuration:0});},onLoadedData:()=>onReadyForDisplay?.(),onError:()=>{if(!nativeRef.current?.error){return;}onError?.({error:{errorString:nativeRef.current.error.message??'Unknown error',code:nativeRef.current.error.code}});},onLoadedMetadata:()=>{if(src?.startPosition){seek(src.startPosition/1000);}},onPlay:()=>onPlaybackStateChanged?.({isPlaying:true,isSeeking:isSeeking.current}),onPause:()=>onPlaybackStateChanged?.({isPlaying:false,isSeeking:isSeeking.current}),onSeeking:()=>isSeeking.current=true,onSeeked:()=>{if(isSeeking.current){isSeeking.current=false;onSeek?.({seekTime:nativeRef.current.currentTime,currentTime:nativeRef.current.currentTime});}},onVolumeChange:()=>{if(!nativeRef.current){return;}onVolumeChange?.({volume:nativeRef.current.volume});},onEnded:onEnd,style:videoStyle});});const videoStyle={position:'absolute',inset:0,objectFit:'contain',width:'100%',height:'100%'};const useMediaSession=(metadata,nativeRef,showNotification)=>{const isPlaying=!nativeRef.current?.paused??false;const progress=nativeRef.current?.currentTime??0;const duration=Number.isFinite(nativeRef.current?.duration)?nativeRef.current?.duration:undefined;const playbackRate=nativeRef.current?.playbackRate??1;const enabled='mediaSession'in navigator&&showNotification;(0,react_1.useEffect)(()=>{if(enabled){navigator.mediaSession.metadata=new MediaMetadata({title:metadata?.title,artist:metadata?.artist,artwork:metadata?.imageUri?[{src:metadata.imageUri}]:undefined});}},[enabled,metadata]);(0,react_1.useEffect)(()=>{if(!enabled){return;}const seekTo=time=>{if(nativeRef.current){nativeRef.current.currentTime=time;}};const seekRelative=offset=>{if(nativeRef.current){nativeRef.current.currentTime=nativeRef.current.currentTime+offset;}};const mediaActions=[['play',()=>nativeRef.current?.play()],['pause',()=>nativeRef.current?.pause()],['seekbackward',evt=>seekRelative(evt.seekOffset?-evt.seekOffset:-10)],['seekforward',evt=>seekRelative(evt.seekOffset?evt.seekOffset:10)],['seekto',evt=>seekTo(evt.seekTime)]];for(const[action,handler]of mediaActions){try{navigator.mediaSession.setActionHandler(action,handler);}catch{}}},[enabled,nativeRef]);(0,react_1.useEffect)(()=>{if(enabled){navigator.mediaSession.playbackState=isPlaying?'playing':'paused';}},[isPlaying,enabled]);(0,react_1.useEffect)(()=>{if(enabled&&duration!==undefined){navigator.mediaSession.setPositionState({position:Math.min(progress,duration),duration,playbackRate:playbackRate});}},[progress,duration,playbackRate,enabled]);};Video.displayName='Video';exports.default=Video;","map":{"version":3,"names":["react_1","__importStar","require","isDeepEqual","a","b","bothAreObjects","Boolean","Object","keys","length","entries","every","k","v","Video","forwardRef","source","paused","muted","volume","rate","repeat","controls","showNotificationControls","poster","fullscreen","fullscreenAutorotate","fullscreenOrientation","onBuffer","onLoad","onProgress","onPlaybackRateChange","onError","onReadyForDisplay","onSeek","onVolumeChange","onEnd","onPlaybackStateChanged","onPictureInPictureStatusChanged","ref","nativeRef","useRef","isSeeking","seek","useCallback","time","_tolerance","isNaN","Error","current","console","warn","Math","max","min","duration","currentTime","seekTime","src","setSource","useState","currentSourceProp","useEffect","pause","resume","play","setVolume","vol","getCurrentPosition","unsupported","fsPrefs","setFullScreen","newVal","orientation","autorotate","requestFullscreen","navigationUI","screen","unlock","lock","document","fullscreenElement","exitFullscreen","e","error","presentFullscreenPlayer","dismissFullscreenPlayer","enterPictureInPicture","requestPictureInPicture","exitPictureInPicture","pictureInPictureElement","useImperativeHandle","save","restoreUserInterfaceForPictureInPictureStopCompleted","nativeHtmlVideoRef","undefined","playbackStateRef","setTimeout","isPlaying","playbackRate","onEnterPip","isActive","onLeavePip","video","addEventListener","removeEventListener","useMediaSession","metadata","default","createElement","uri","autoPlay","loop","playsInline","onCanPlay","isBuffering","onWaiting","onRateChange","onDurationChange","videoTracks","textTracks","audioTracks","naturalSize","width","videoWidth","height","videoHeight","onTimeUpdate","playableDuration","buffered","end","seekableDuration","onLoadedData","errorString","message","code","onLoadedMetadata","startPosition","onPlay","onPause","onSeeking","onSeeked","onEnded","style","videoStyle","position","inset","objectFit","showNotification","progress","Number","isFinite","enabled","navigator","mediaSession","MediaMetadata","title","artist","artwork","imageUri","seekTo","seekRelative","offset","mediaActions","evt","seekOffset","action","handler","setActionHandler","playbackState","setPositionState","displayName","exports"],"sources":["/Users/deu/SigmaLTD/node_modules/react-native-video/src/Video.web.tsx"],"sourcesContent":["import React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  type RefObject,\n  useState,\n} from 'react';\nimport type {VideoRef, ReactVideoProps, VideoMetadata} from './types';\n\n// stolen from https://stackoverflow.com/a/77278013/21726244\nconst isDeepEqual = <T,>(a: T, b: T): boolean => {\n  if (a === b) {\n    return true;\n  }\n\n  const bothAreObjects =\n    a && b && typeof a === 'object' && typeof b === 'object';\n\n  return Boolean(\n    bothAreObjects &&\n      Object.keys(a).length === Object.keys(b).length &&\n      Object.entries(a).every(([k, v]) => isDeepEqual(v, b[k as keyof T])),\n  );\n};\n\nconst Video = forwardRef<VideoRef, ReactVideoProps>(\n  (\n    {\n      source,\n      paused,\n      muted,\n      volume,\n      rate,\n      repeat,\n      controls,\n      showNotificationControls = false,\n      poster,\n      fullscreen,\n      fullscreenAutorotate,\n      fullscreenOrientation,\n      onBuffer,\n      onLoad,\n      onProgress,\n      onPlaybackRateChange,\n      onError,\n      onReadyForDisplay,\n      onSeek,\n      onVolumeChange,\n      onEnd,\n      onPlaybackStateChanged,\n      onPictureInPictureStatusChanged,\n    },\n    ref,\n  ) => {\n    const nativeRef = useRef<HTMLVideoElement>(null);\n\n    const isSeeking = useRef(false);\n    const seek = useCallback(\n      async (time: number, _tolerance?: number) => {\n        if (isNaN(time)) {\n          throw new Error('Specified time is not a number');\n        }\n        if (!nativeRef.current) {\n          console.warn('Video Component is not mounted');\n          return;\n        }\n        time = Math.max(0, Math.min(time, nativeRef.current.duration));\n        nativeRef.current.currentTime = time;\n        onSeek?.({seekTime: time, currentTime: nativeRef.current.currentTime});\n      },\n      [onSeek],\n    );\n\n    const [src, setSource] = useState(source);\n    const currentSourceProp = useRef(source);\n    useEffect(() => {\n      if (isDeepEqual(source, currentSourceProp.current)) {\n        return;\n      }\n      currentSourceProp.current = source;\n      setSource(source);\n    }, [source]);\n\n    const pause = useCallback(() => {\n      if (!nativeRef.current) {\n        return;\n      }\n      nativeRef.current.pause();\n    }, []);\n\n    const resume = useCallback(() => {\n      if (!nativeRef.current) {\n        return;\n      }\n      nativeRef.current.play();\n    }, []);\n\n    const setVolume = useCallback((vol: number) => {\n      if (!nativeRef.current) {\n        return;\n      }\n      nativeRef.current.volume = Math.max(0, Math.min(vol, 100)) / 100;\n    }, []);\n\n    const getCurrentPosition = useCallback(async () => {\n      if (!nativeRef.current) {\n        throw new Error('Video Component is not mounted');\n      }\n      return nativeRef.current.currentTime;\n    }, []);\n\n    const unsupported = useCallback(() => {\n      throw new Error('This is unsupported on the web');\n    }, []);\n\n    // Stock this in a ref to not invalidate memoization when those changes.\n    const fsPrefs = useRef({\n      fullscreenAutorotate,\n      fullscreenOrientation,\n    });\n    fsPrefs.current = {\n      fullscreenOrientation,\n      fullscreenAutorotate,\n    };\n\n    const setFullScreen = useCallback(\n      async (\n        newVal: boolean,\n        orientation?: ReactVideoProps['fullscreenOrientation'],\n        autorotate?: boolean,\n      ) => {\n        orientation ??= fsPrefs.current.fullscreenOrientation;\n        autorotate ??= fsPrefs.current.fullscreenAutorotate;\n\n        try {\n          if (newVal) {\n            await nativeRef.current?.requestFullscreen({\n              navigationUI: 'hide',\n            });\n            if (orientation === 'all' || !orientation || autorotate) {\n              screen.orientation.unlock();\n            } else {\n              await screen.orientation.lock(orientation);\n            }\n          } else {\n            if (document.fullscreenElement) {\n              await document.exitFullscreen();\n            }\n            screen.orientation.unlock();\n          }\n        } catch (e) {\n          // Changing fullscreen status without a button click is not allowed so it throws.\n          // Some browsers also used to throw when locking screen orientation was not supported.\n          console.error('Could not toggle fullscreen/screen lock status', e);\n        }\n      },\n      [],\n    );\n\n    useEffect(() => {\n      setFullScreen(\n        fullscreen || false,\n        fullscreenOrientation,\n        fullscreenAutorotate,\n      );\n    }, [\n      setFullScreen,\n      fullscreen,\n      fullscreenAutorotate,\n      fullscreenOrientation,\n    ]);\n\n    const presentFullscreenPlayer = useCallback(\n      () => setFullScreen(true),\n      [setFullScreen],\n    );\n    const dismissFullscreenPlayer = useCallback(\n      () => setFullScreen(false),\n      [setFullScreen],\n    );\n\n    const enterPictureInPicture = useCallback(() => {\n      try {\n        if (!nativeRef.current) {\n          console.error('Video Component is not mounted');\n        } else {\n          nativeRef.current.requestPictureInPicture();\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    }, []);\n\n    const exitPictureInPicture = useCallback(() => {\n      if (\n        nativeRef.current &&\n        nativeRef.current === document.pictureInPictureElement\n      ) {\n        try {\n          document.exitPictureInPicture();\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    }, []);\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        seek,\n        setSource,\n        pause,\n        resume,\n        setVolume,\n        getCurrentPosition,\n        presentFullscreenPlayer,\n        dismissFullscreenPlayer,\n        setFullScreen,\n        save: unsupported,\n        enterPictureInPicture,\n        exitPictureInPicture,\n        restoreUserInterfaceForPictureInPictureStopCompleted: unsupported,\n        nativeHtmlVideoRef: nativeRef,\n      }),\n      [\n        seek,\n        setSource,\n        pause,\n        resume,\n        unsupported,\n        setVolume,\n        getCurrentPosition,\n        nativeRef,\n        presentFullscreenPlayer,\n        dismissFullscreenPlayer,\n        setFullScreen,\n        enterPictureInPicture,\n        exitPictureInPicture,\n      ],\n    );\n\n    useEffect(() => {\n      if (paused) {\n        pause();\n      } else {\n        resume();\n      }\n    }, [paused, pause, resume]);\n    useEffect(() => {\n      if (volume === undefined || isNaN(volume)) {\n        return;\n      }\n      setVolume(volume);\n    }, [volume, setVolume]);\n\n    // we use a ref to prevent triggerring the useEffect when the component rerender with a non-stable `onPlaybackStateChanged`.\n    const playbackStateRef = useRef(onPlaybackStateChanged);\n    playbackStateRef.current = onPlaybackStateChanged;\n    useEffect(() => {\n      // Not sure about how to do this but we want to wait for nativeRef to be initialized\n      setTimeout(() => {\n        if (!nativeRef.current) {\n          return;\n        }\n\n        // Set play state to the player's value (if autoplay is denied)\n        // This is useful if our UI is in a play state but autoplay got denied so\n        // the video is actually in a paused state.\n        playbackStateRef.current?.({\n          isPlaying: !nativeRef.current.paused,\n          isSeeking: isSeeking.current,\n        });\n      }, 500);\n    }, []);\n\n    useEffect(() => {\n      if (!nativeRef.current || rate === undefined) {\n        return;\n      }\n      nativeRef.current.playbackRate = rate;\n    }, [rate]);\n\n    useEffect(() => {\n      if (\n        typeof onPictureInPictureStatusChanged !== 'function' ||\n        !nativeRef.current\n      ) {\n        return;\n      }\n      const onEnterPip = () =>\n        onPictureInPictureStatusChanged({isActive: true});\n      const onLeavePip = () =>\n        onPictureInPictureStatusChanged({isActive: false});\n\n      const video = nativeRef.current;\n      video.addEventListener('enterpictureinpicture', onEnterPip);\n      video.addEventListener('leavepictureinpicture', onLeavePip);\n      return () => {\n        video.removeEventListener('enterpictureinpicture', onEnterPip);\n        video.removeEventListener('leavepictureinpicture', onLeavePip);\n      };\n    }, [onPictureInPictureStatusChanged]);\n\n    useMediaSession(src?.metadata, nativeRef, showNotificationControls);\n\n    return (\n      <video\n        ref={nativeRef}\n        src={src?.uri as string | undefined}\n        muted={muted}\n        autoPlay={!paused}\n        controls={controls}\n        loop={repeat}\n        playsInline\n        poster={\n          typeof poster === 'object'\n            ? typeof poster.source === 'object'\n              ? poster.source.uri\n              : undefined\n            : poster\n        }\n        onCanPlay={() => onBuffer?.({isBuffering: false})}\n        onWaiting={() => onBuffer?.({isBuffering: true})}\n        onRateChange={() => {\n          if (!nativeRef.current) {\n            return;\n          }\n          onPlaybackRateChange?.({\n            playbackRate: nativeRef.current?.playbackRate,\n          });\n        }}\n        onDurationChange={() => {\n          if (!nativeRef.current) {\n            return;\n          }\n          onLoad?.({\n            currentTime: nativeRef.current.currentTime,\n            duration: nativeRef.current.duration,\n            videoTracks: [],\n            textTracks: [],\n            audioTracks: [],\n            naturalSize: {\n              width: nativeRef.current.videoWidth,\n              height: nativeRef.current.videoHeight,\n              orientation: 'landscape',\n            },\n          });\n        }}\n        onTimeUpdate={() => {\n          if (!nativeRef.current) {\n            return;\n          }\n          onProgress?.({\n            currentTime: nativeRef.current.currentTime,\n            playableDuration: nativeRef.current.buffered.length\n              ? nativeRef.current.buffered.end(\n                  nativeRef.current.buffered.length - 1,\n                )\n              : 0,\n            seekableDuration: 0,\n          });\n        }}\n        onLoadedData={() => onReadyForDisplay?.()}\n        onError={() => {\n          if (!nativeRef.current?.error) {\n            return;\n          }\n          onError?.({\n            error: {\n              errorString: nativeRef.current.error.message ?? 'Unknown error',\n              code: nativeRef.current.error.code,\n            },\n          });\n        }}\n        onLoadedMetadata={() => {\n          if (src?.startPosition) {\n            seek(src.startPosition / 1000);\n          }\n        }}\n        onPlay={() =>\n          onPlaybackStateChanged?.({\n            isPlaying: true,\n            isSeeking: isSeeking.current,\n          })\n        }\n        onPause={() =>\n          onPlaybackStateChanged?.({\n            isPlaying: false,\n            isSeeking: isSeeking.current,\n          })\n        }\n        onSeeking={() => (isSeeking.current = true)}\n        onSeeked={() => {\n          // only trigger this if it's from UI seek.\n          // if it was triggered via ref.seek(), onSeek has already been called\n          if (isSeeking.current) {\n            isSeeking.current = false;\n            onSeek?.({\n              seekTime: nativeRef.current!.currentTime,\n              currentTime: nativeRef.current!.currentTime,\n            });\n          }\n        }}\n        onVolumeChange={() => {\n          if (!nativeRef.current) {\n            return;\n          }\n          onVolumeChange?.({volume: nativeRef.current.volume});\n        }}\n        onEnded={onEnd}\n        style={videoStyle}\n      />\n    );\n  },\n);\n\nconst videoStyle = {\n  position: 'absolute',\n  inset: 0,\n  objectFit: 'contain',\n  width: '100%',\n  height: '100%',\n} satisfies React.CSSProperties;\n\nconst useMediaSession = (\n  metadata: VideoMetadata | undefined,\n  nativeRef: RefObject<HTMLVideoElement>,\n  showNotification: boolean,\n) => {\n  const isPlaying = !nativeRef.current?.paused ?? false;\n  const progress = nativeRef.current?.currentTime ?? 0;\n  const duration = Number.isFinite(nativeRef.current?.duration)\n    ? nativeRef.current?.duration\n    : undefined;\n  const playbackRate = nativeRef.current?.playbackRate ?? 1;\n\n  const enabled = 'mediaSession' in navigator && showNotification;\n\n  useEffect(() => {\n    if (enabled) {\n      navigator.mediaSession.metadata = new MediaMetadata({\n        title: metadata?.title,\n        artist: metadata?.artist,\n        artwork: metadata?.imageUri ? [{src: metadata.imageUri}] : undefined,\n      });\n    }\n  }, [enabled, metadata]);\n\n  useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n\n    const seekTo = (time: number) => {\n      if (nativeRef.current) {\n        nativeRef.current.currentTime = time;\n      }\n    };\n\n    const seekRelative = (offset: number) => {\n      if (nativeRef.current) {\n        nativeRef.current.currentTime = nativeRef.current.currentTime + offset;\n      }\n    };\n\n    const mediaActions: [\n      MediaSessionAction,\n      MediaSessionActionHandler | null,\n    ][] = [\n      ['play', () => nativeRef.current?.play()],\n      ['pause', () => nativeRef.current?.pause()],\n      [\n        'seekbackward',\n        (evt: MediaSessionActionDetails) =>\n          seekRelative(evt.seekOffset ? -evt.seekOffset : -10),\n      ],\n      [\n        'seekforward',\n        (evt: MediaSessionActionDetails) =>\n          seekRelative(evt.seekOffset ? evt.seekOffset : 10),\n      ],\n      ['seekto', (evt: MediaSessionActionDetails) => seekTo(evt.seekTime!)],\n    ];\n\n    for (const [action, handler] of mediaActions) {\n      try {\n        navigator.mediaSession.setActionHandler(action, handler);\n      } catch {\n        // ignored\n      }\n    }\n  }, [enabled, nativeRef]);\n\n  useEffect(() => {\n    if (enabled) {\n      navigator.mediaSession.playbackState = isPlaying ? 'playing' : 'paused';\n    }\n  }, [isPlaying, enabled]);\n  useEffect(() => {\n    if (enabled && duration !== undefined) {\n      navigator.mediaSession.setPositionState({\n        position: Math.min(progress, duration),\n        duration,\n        playbackRate: playbackRate,\n      });\n    }\n  }, [progress, duration, playbackRate, enabled]);\n};\n\nVideo.displayName = 'Video';\nexport default Video;\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":true},"sourceType":"script","externalDependencies":[]}