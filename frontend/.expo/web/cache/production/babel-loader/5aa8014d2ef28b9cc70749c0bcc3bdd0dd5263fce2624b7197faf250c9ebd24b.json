{"ast":null,"code":"import React,{useState,useEffect}from'react';import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Text from\"react-native-web/dist/exports/Text\";import{useSelector}from'react-redux';import Database from'../database';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Tag({tag,onRefresh}){const theme=useSelector(state=>state.theme);const[isFollowed,setIsFollowed]=useState(false);useEffect(()=>{Database.getFollowedTags().then(tags=>setIsFollowed(tags.includes(tag)));},[tag]);const handleTagPress=async()=>{try{if(isFollowed){await Database.unfollowTag(tag);}else{await Database.followTag(tag);}setIsFollowed(!isFollowed);onRefresh(isFollowed);}catch(err){console.error('Error toggling tag:',err);}};return _jsx(TouchableOpacity,{onPress:handleTagPress,style:{marginRight:5,backgroundColor:'#BBB',borderRadius:10,padding:5,alignContent:\"center\",height:\"100%\"},children:_jsx(Text,{style:{color:isFollowed?theme.colors.text:'#888',fontWeight:isFollowed?'bold':'normal',textAlign:'center',textAlignVertical:'center',alignContent:'center',alignSelf:'center',alignItems:'center'},children:tag.substring(0,20)||'unknown'})});}","map":{"version":3,"names":["React","useState","useEffect","TouchableOpacity","Text","useSelector","Database","jsx","_jsx","Tag","tag","onRefresh","theme","state","isFollowed","setIsFollowed","getFollowedTags","then","tags","includes","handleTagPress","unfollowTag","followTag","err","console","error","onPress","style","marginRight","backgroundColor","borderRadius","padding","alignContent","height","children","color","colors","text","fontWeight","textAlign","textAlignVertical","alignSelf","alignItems","substring"],"sources":["/Users/deu/SigmaLTD/frontend/components/Tag.js"],"sourcesContent":["// components/Tag.js\n\nimport React, { useState, useEffect } from 'react';\nimport { TouchableOpacity, Text } from 'react-native';\nimport { useSelector } from 'react-redux';\nimport Database from '../database';\n\nexport default function Tag({ tag, onRefresh }) {\n  const theme = useSelector((state) => state.theme);\n  const [isFollowed, setIsFollowed] = useState(false);\n\n  useEffect(() => {\n    Database.getFollowedTags().then(tags => setIsFollowed(tags.includes(tag)));\n  }, [tag]);\n\n  const handleTagPress = async () => {\n    try {\n      if (isFollowed) {\n        await Database.unfollowTag(tag);\n      } else {\n        await Database.followTag(tag);\n      }\n      setIsFollowed(!isFollowed);\n      onRefresh(isFollowed);\n    } catch (err) {\n      console.error('Error toggling tag:', err);\n    }\n  };\n\n  return (\n    <TouchableOpacity onPress={handleTagPress} style={{\n      marginRight: 5,\n      backgroundColor: '#BBB',\n      borderRadius: 10,\n      padding: 5,\n      alignContent: \"center\",\n      height: \"100%\",\n    }}>\n      <Text style={{ \n        color: isFollowed ? theme.colors.text : '#888', \n        fontWeight: isFollowed ? 'bold' : 'normal',\n        textAlign: 'center',\n        textAlignVertical: 'center',\n        alignContent: 'center',\n        alignSelf: 'center',\n        alignItems: 'center',\n      }}>\n        {tag.substring(0, 20) || 'unknown'}\n      </Text>\n    </TouchableOpacity>\n  );\n}"],"mappings":"AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,gBAAA,6DAAAC,IAAA,0CAEnD,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnC,cAAe,SAAS,CAAAC,GAAGA,CAAC,CAAEC,GAAG,CAAEC,SAAU,CAAC,CAAE,CAC9C,KAAM,CAAAC,KAAK,CAAGP,WAAW,CAAEQ,KAAK,EAAKA,KAAK,CAACD,KAAK,CAAC,CACjD,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACdI,QAAQ,CAACU,eAAe,CAAC,CAAC,CAACC,IAAI,CAACC,IAAI,EAAIH,aAAa,CAACG,IAAI,CAACC,QAAQ,CAACT,GAAG,CAAC,CAAC,CAAC,CAC5E,CAAC,CAAE,CAACA,GAAG,CAAC,CAAC,CAET,KAAM,CAAAU,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,GAAIN,UAAU,CAAE,CACd,KAAM,CAAAR,QAAQ,CAACe,WAAW,CAACX,GAAG,CAAC,CACjC,CAAC,IAAM,CACL,KAAM,CAAAJ,QAAQ,CAACgB,SAAS,CAACZ,GAAG,CAAC,CAC/B,CACAK,aAAa,CAAC,CAACD,UAAU,CAAC,CAC1BH,SAAS,CAACG,UAAU,CAAC,CACvB,CAAE,MAAOS,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,CAAEF,GAAG,CAAC,CAC3C,CACF,CAAC,CAED,MACE,CAAAf,IAAA,CAACL,gBAAgB,EAACuB,OAAO,CAAEN,cAAe,CAACO,KAAK,CAAE,CAChDC,WAAW,CAAE,CAAC,CACdC,eAAe,CAAE,MAAM,CACvBC,YAAY,CAAE,EAAE,CAChBC,OAAO,CAAE,CAAC,CACVC,YAAY,CAAE,QAAQ,CACtBC,MAAM,CAAE,MACV,CAAE,CAAAC,QAAA,CACA1B,IAAA,CAACJ,IAAI,EAACuB,KAAK,CAAE,CACXQ,KAAK,CAAErB,UAAU,CAAGF,KAAK,CAACwB,MAAM,CAACC,IAAI,CAAG,MAAM,CAC9CC,UAAU,CAAExB,UAAU,CAAG,MAAM,CAAG,QAAQ,CAC1CyB,SAAS,CAAE,QAAQ,CACnBC,iBAAiB,CAAE,QAAQ,CAC3BR,YAAY,CAAE,QAAQ,CACtBS,SAAS,CAAE,QAAQ,CACnBC,UAAU,CAAE,QACd,CAAE,CAAAR,QAAA,CACCxB,GAAG,CAACiC,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,EAAI,SAAS,CAC9B,CAAC,CACS,CAAC,CAEvB","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}