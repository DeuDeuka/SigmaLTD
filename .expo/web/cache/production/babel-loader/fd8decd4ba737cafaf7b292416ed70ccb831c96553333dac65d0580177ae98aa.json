{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Button from\"react-native-web/dist/exports/Button\";import Text from\"react-native-web/dist/exports/Text\";import Image from\"react-native-web/dist/exports/Image\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import KeyboardAvoidingView from\"react-native-web/dist/exports/KeyboardAvoidingView\";import Switch from\"react-native-web/dist/exports/Switch\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import*as ImagePicker from'expo-image-picker';import{useSelector}from'react-redux';import Database,{BASE_URL}from'../database';import{Menu}from\"../MainNavigator\";import Comment from\"../components/Comment\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostDetailScreen({route}){const{current,colors}=useSelector(state=>state.theme)||{current:'light',colors:{light:{text:'#000',background:'#FFF'}}};const theme=colors[current]||{text:'#000',background:'#FFF'};const[post,setPost]=useState(null);const[comments,setComments]=useState([]);const[loading,setLoading]=useState(true);const[newComment,setNewComment]=useState('');const[isAnonymous,setIsAnonymous]=useState(false);const[selectedImages,setSelectedImages]=useState([]);const[currentUser,setCurrentUser]=useState(null);const flatListRef=useRef(null);useEffect(()=>{const timeout=setTimeout(()=>{flatListRef.current?.scrollToEnd({animated:true});},100);return()=>clearTimeout(timeout);},[comments]);useEffect(()=>{const interval=setInterval(async()=>{await updateComments();},1000);return()=>clearInterval(interval);},[]);useEffect(()=>{const fetchData=async()=>{try{console.log(route.params.postId);const postData=await Database.getPost(route.params.postId);const loadedComments=await Database.getPostComments(route.params.postId);const currentUse=await Database.getCurrentUser();console.log(currentUse);setPost(postData);setComments(loadedComments);setCurrentUser(currentUse);}catch(err){console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:',err);}finally{setLoading(false);}};fetchData();},[route.params.postId]);const updateComments=async()=>{const loadedComments=await Database.getPostComments(route.params.postId);setComments(loadedComments);};const pickImage=async()=>{const result=await ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker.MediaTypeOptions.Images,quality:0.7,base64:true});if(!result.canceled){const asset=result.assets?.[0];if(!asset||!asset.base64)return;const fullDataUri=`data:image/jpeg;base64,${asset.base64}`;console.log('üì∏ –ü–æ–ª—É—á–∏–ª–∏ base64:',fullDataUri.slice(0,100),'...');setSelectedImages([{uri:fullDataUri}]);}};const sendComment=async()=>{const content=newComment.trim();if(!content&&selectedImages.length===0)return;try{const imageBase64=selectedImages[0]?.uri||null;const newC=await Database.addCommentBase64({postId:post.idPost||post.id,content,isAnonymous:isAnonymous,imageBase64});setComments(prev=>[...prev,newC]);setNewComment('');setSelectedImages([]);}catch(err){console.error('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:',err);}};const toggleLike=async item=>{try{console.log(comments);const updatedComments=[...comments];const index=updatedComments.findIndex(c=>c.idComment===item.idComment);if(index===-1)return;const current=updatedComments[index];if(current.likedByMe){await Database.unlikeComment(current.idComment);current.likes=Number(current.likes)-1;current.likedByMe=false;}else{await Database.likeComment(current.idComment);current.likes=Number(current.likes)+1;current.likedByMe=true;}setComments(updatedComments);}catch(err){console.error('‚ùå –û—à–∏–±–∫–∞ –ª–∞–π–∫–∞:',err);}};const renderComment=({item})=>{return _jsx(Comment,{comment:item,currentUser:currentUser,toggleLike:toggleLike});};if(loading){return _jsx(View,{style:[styles.container,styles.centered],children:_jsx(ActivityIndicator,{size:\"large\",color:theme.text})});}const Wrapper=true?View:KeyboardAvoidingView;return _jsxs(View,{style:styles.container,children:[_jsx(Menu,{navigation:route.params.navigation,header:true}),_jsxs(Wrapper,{style:{flex:1},behavior:false?'padding':undefined,children:[_jsx(FlatList,{ref:flatListRef,data:comments,renderItem:renderComment,keyExtractor:item=>String(item.idComment),contentContainerStyle:styles.commentsContainer}),selectedImages.length>0&&_jsx(View,{style:{flexDirection:'row',flexWrap:'wrap',padding:8},children:selectedImages.map((img,i)=>_jsx(Image,{source:{uri:img.uri},style:{width:80,height:80,margin:4,borderRadius:8}},i))}),_jsxs(View,{style:styles.inputContainer,children:[_jsx(TextInput,{value:newComment,onChangeText:setNewComment,style:styles.textInput,placeholder:\"\\u0412\\u0430\\u0448 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439...\",placeholderTextColor:\"#888\"}),_jsx(Text,{children:\"\\u0410\\u043D\\u043E\\u043D\\u0438\\u043C\\u043D\\u043E?\"}),_jsx(Switch,{value:isAnonymous,onValueChange:setIsAnonymous,style:{marginHorizontal:10}}),_jsx(Button,{title:\"\\u041C\\u0435\\u0434\\u0438\\u0430\",onPress:pickImage}),_jsx(Button,{title:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",onPress:sendComment})]})]})]});}const styles=StyleSheet.create({container:{flex:1,backgroundColor:'#fff'},centered:{justifyContent:'center',alignItems:'center'},commentsContainer:{padding:12},commentBubble:{marginBottom:10,padding:12,borderRadius:12,maxWidth:'90%'},myComment:{alignSelf:'flex-end',backgroundColor:'#d0f0c0'},otherComment:{alignSelf:'flex-start',backgroundColor:'#e6e6e6'},author:{fontWeight:'bold',color:'#333',marginBottom:4},commentText:{color:'#000',fontSize:15,marginBottom:4},inputContainer:{flexDirection:'row',padding:10,borderTopWidth:1,borderColor:'#ccc',backgroundColor:'#f9f9f9',alignItems:'center',flexWrap:'wrap'},textInput:{flex:1,width:'80%',borderColor:'#ccc',borderWidth:1,borderRadius:10,paddingHorizontal:12,paddingVertical:8,marginRight:10,fontSize:15,backgroundColor:'#fff',color:'#000'}});","map":{"version":3,"names":["React","useEffect","useState","useRef","View","TextInput","FlatList","Button","Text","Image","ActivityIndicator","Platform","StyleSheet","KeyboardAvoidingView","Switch","TouchableOpacity","ImagePicker","useSelector","Database","BASE_URL","Menu","Comment","jsx","_jsx","jsxs","_jsxs","PostDetailScreen","route","current","colors","state","theme","light","text","background","post","setPost","comments","setComments","loading","setLoading","newComment","setNewComment","isAnonymous","setIsAnonymous","selectedImages","setSelectedImages","currentUser","setCurrentUser","flatListRef","timeout","setTimeout","scrollToEnd","animated","clearTimeout","interval","setInterval","updateComments","clearInterval","fetchData","console","log","params","postId","postData","getPost","loadedComments","getPostComments","currentUse","getCurrentUser","err","error","pickImage","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","quality","base64","canceled","asset","assets","fullDataUri","slice","uri","sendComment","content","trim","length","imageBase64","newC","addCommentBase64","idPost","id","prev","toggleLike","item","updatedComments","index","findIndex","c","idComment","likedByMe","unlikeComment","likes","Number","likeComment","renderComment","comment","style","styles","container","centered","children","size","color","Wrapper","navigation","header","flex","behavior","undefined","ref","data","renderItem","keyExtractor","String","contentContainerStyle","commentsContainer","flexDirection","flexWrap","padding","map","img","i","source","width","height","margin","borderRadius","inputContainer","value","onChangeText","textInput","placeholder","placeholderTextColor","onValueChange","marginHorizontal","title","onPress","create","backgroundColor","justifyContent","alignItems","commentBubble","marginBottom","maxWidth","myComment","alignSelf","otherComment","author","fontWeight","commentText","fontSize","borderTopWidth","borderColor","borderWidth","paddingHorizontal","paddingVertical","marginRight"],"sources":["/Users/deu/SigmaLTD/screens/CommentScreen.js"],"sourcesContent":["import React, {useEffect, useState, useRef} from 'react';\nimport {\n    View,\n    TextInput,\n    FlatList,\n    Button,\n    Text,\n    Image,\n    ActivityIndicator,\n    Platform,\n    StyleSheet,\n    KeyboardAvoidingView,\n    Switch,\n    TouchableOpacity,\n} from 'react-native';\nimport * as ImagePicker from 'expo-image-picker';\nimport {useSelector} from 'react-redux';\nimport Database, {BASE_URL} from '../database';\nimport {Menu} from \"../MainNavigator\";\nimport Comment from \"../components/Comment\";\n\nexport default function PostDetailScreen({route}) {\n    const {current, colors} = useSelector((state) => state.theme) || {\n        current: 'light',\n        colors: {light: {text: '#000', background: '#FFF'}},\n    };\n    const theme = colors[current] || {text: '#000', background: '#FFF'};\n\n    const [post, setPost] = useState(null);\n    const [comments, setComments] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [newComment, setNewComment] = useState('');\n    const [isAnonymous, setIsAnonymous] = useState(false);\n    const [selectedImages, setSelectedImages] = useState([]);\n    const [currentUser, setCurrentUser] = useState(null);\n    const flatListRef = useRef(null);\n\n    useEffect(() => {\n        const timeout = setTimeout(() => {\n            flatListRef.current?.scrollToEnd({animated: true});\n        }, 100);\n        return () => clearTimeout(timeout);\n    }, [comments]);\n\n    useEffect(() => {\n        const interval = setInterval(async () => {\n            await updateComments();\n        }, 1000)\n        return () => clearInterval(interval)\n    }, []);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                console.log(route.params.postId);\n                const postData = await Database.getPost(route.params.postId);\n                const loadedComments = await Database.getPostComments(route.params.postId);\n                const currentUse = await Database.getCurrentUser();\n                console.log(currentUse);\n                setPost(postData);\n                setComments(loadedComments);\n                setCurrentUser(currentUse);\n            } catch (err) {\n                console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', err);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchData();\n    }, [route.params.postId]);\n\n    const updateComments = async () => {\n        const loadedComments = await Database.getPostComments(route.params.postId);\n        setComments(loadedComments);\n    }\n\n    const pickImage = async () => {\n        const result = await ImagePicker.launchImageLibraryAsync({\n            mediaTypes: ImagePicker.MediaTypeOptions.Images,\n            quality: 0.7,\n            base64: true,\n        });\n\n        if (!result.canceled) {\n            const asset = result.assets?.[0];\n            if (!asset || !asset.base64) return;\n\n            const fullDataUri = `data:image/jpeg;base64,${asset.base64}`;\n            console.log('üì∏ –ü–æ–ª—É—á–∏–ª–∏ base64:', fullDataUri.slice(0, 100), '...');\n            setSelectedImages([{uri: fullDataUri}]);\n        }\n    };\n\n    const sendComment = async () => {\n        const content = newComment.trim();\n        if (!content && selectedImages.length === 0) return;\n\n        try {\n            const imageBase64 = selectedImages[0]?.uri || null;\n\n            const newC = await Database.addCommentBase64({\n                postId: post.idPost || post.id,\n                content,\n                isAnonymous: isAnonymous,\n                imageBase64,\n            });\n\n            setComments((prev) => [...prev, newC]);\n            setNewComment('');\n            setSelectedImages([]);\n        } catch (err) {\n            console.error('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:', err);\n        }\n    };\n\n    const toggleLike = async (item) => {\n        try {\n            console.log(comments);\n            const updatedComments = [...comments];\n            const index = updatedComments.findIndex((c) => c.idComment === item.idComment);\n            if (index === -1) return;\n\n            const current = updatedComments[index];\n            if (current.likedByMe) {\n                await Database.unlikeComment(current.idComment);\n                current.likes = Number(current.likes) - 1;\n                current.likedByMe = false;\n            } else {\n                await Database.likeComment(current.idComment);\n                current.likes = Number(current.likes) + 1;\n                current.likedByMe = true;\n            }\n\n            setComments(updatedComments);\n        } catch (err) {\n            console.error('‚ùå –û—à–∏–±–∫–∞ –ª–∞–π–∫–∞:', err);\n        }\n    };\n\n    const renderComment = ({item}) => {\n        return <Comment comment={item} currentUser={currentUser} toggleLike={toggleLike}/>\n    };\n\n    if (loading) {\n        return (\n            <View style={[styles.container, styles.centered]}>\n                <ActivityIndicator size=\"large\" color={theme.text}/>\n            </View>\n        );\n    }\n\n    const Wrapper = Platform.OS === 'web' ? View : KeyboardAvoidingView;\n\n    return (\n        <View style={styles.container}>\n            <Menu navigation={route.params.navigation} header={true}/>\n            <Wrapper style={{flex: 1}} behavior={Platform.OS === 'ios' ? 'padding' : undefined}>\n                <FlatList\n                    ref={flatListRef}\n                    data={comments}\n                    renderItem={renderComment}\n                    keyExtractor={(item) => String(item.idComment)}\n                    contentContainerStyle={styles.commentsContainer}\n                />\n\n                {selectedImages.length > 0 && (\n                    <View style={{flexDirection: 'row', flexWrap: 'wrap', padding: 8}}>\n                        {selectedImages.map((img, i) => (\n                            <Image\n                                key={i}\n                                source={{uri: img.uri}}\n                                style={{width: 80, height: 80, margin: 4, borderRadius: 8}}\n                            />\n                        ))}\n                    </View>\n                )}\n\n                <View style={styles.inputContainer}>\n                    <TextInput\n                        value={newComment}\n                        onChangeText={setNewComment}\n                        style={styles.textInput}\n                        placeholder=\"–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...\"\n                        placeholderTextColor=\"#888\"\n                    />\n                    <Text>–ê–Ω–æ–Ω–∏–º–Ω–æ?</Text>\n                    <Switch\n                        value={isAnonymous}\n                        onValueChange={setIsAnonymous}\n                        style={{marginHorizontal: 10}}\n                    />\n                    <Button title=\"–ú–µ–¥–∏–∞\" onPress={pickImage}/>\n                    <Button title=\"–û—Ç–ø—Ä–∞–≤–∏—Ç—å\" onPress={sendComment}/>\n                </View>\n            </Wrapper>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#fff',\n    },\n    centered: {\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    commentsContainer: {\n        padding: 12,\n    },\n    commentBubble: {\n        marginBottom: 10,\n        padding: 12,\n        borderRadius: 12,\n        maxWidth: '90%',\n    },\n    myComment: {\n        alignSelf: 'flex-end',\n        backgroundColor: '#d0f0c0',\n    },\n    otherComment: {\n        alignSelf: 'flex-start',\n        backgroundColor: '#e6e6e6',\n    },\n    author: {\n        fontWeight: 'bold',\n        color: '#333',\n        marginBottom: 4,\n    },\n    commentText: {\n        color: '#000',\n        fontSize: 15,\n        marginBottom: 4,\n    },\n    inputContainer: {\n        flexDirection: 'row',\n        padding: 10,\n        borderTopWidth: 1,\n        borderColor: '#ccc',\n        backgroundColor: '#f9f9f9',\n        alignItems: 'center',\n        flexWrap: 'wrap',\n    },\n    textInput: {\n        flex: 1,\n        width: '80%',\n        borderColor: '#ccc',\n        borderWidth: 1,\n        borderRadius: 10,\n        paddingHorizontal: 12,\n        paddingVertical: 8,\n        marginRight: 10,\n        fontSize: 15,\n        backgroundColor: '#fff',\n        color: '#000',\n    },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}